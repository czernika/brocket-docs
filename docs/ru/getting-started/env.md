# Окружение :id=environment

Окружение определяет настройки сайта в зависимости от среды разработки. Так, например, окружение для локальной разработки должно отличаться от окружения готового сайта - в локальном окружении позволено включение функций дебагинга сайта, отключение кэширования и индексации сайта, в то время как на продакшене все должно быть оптимизировано и скрыто от глаз пользователя

## Файлы конфигурации :id=config

Глобально за конфигурацию сайта отвечает файл `config/application.php`. Он содержит в себе список переменных WordPress, которые обычно содержатся внутри файла `wp-config.php`, и служит как одна из входных точек для запуска сайта. Переменные, определенные здесь, будут доступны глобально по всему сайту, однако есть возможность переписать их значение под нужное Вам окружение

Внутри директории `config/environments/` содержатся файлы окружения. Здесь Вы можете указать любые настройки, которые будут доступны только если окружение сайта совпадает с названием файла конфигурации. То есть, если Ваше текущее окружение `development`, за настройки этого окружения будет отвечать файл `development.php` и так далее

> Окружение задается значением переменной `WP_ENV` внутри файла `.env`. Никаких ограничений по наименованию файлов и переменных нет, однако рекомендуется следовать тому же наименованию, что и переменная [WP_ENVIRONMENT_TYPE](https://developer.wordpress.org/reference/functions/wp_get_environment_type/) и возвращаемое значение функции `wp_get_environment_type()`, введенную с версии WP 5.5.0

Все определяемые значения внутри файла прокомментированы для лучшего понимания, однако в большинстве своем они соответствуют константам WordPress

## Файл окружения :id=env

Список всех переменных и их значение внутри файла конфигурации `.env` приведен в таблице ниже. **Жирным** выделены обязательные к заполнению параметры

| Переменная | Определение |
| ------ | ------ |
| **DB_NAME** | Имя базы данных |
| **DB_USER** | Пользователь базы данных |
| **DB_PASSWORD** | Пароль пользователя базы данных |
| DB_HOST | Хост базы данных. `localhost` в большинстве случаев, `mysql` при использовании с Docker |
| DB_PREFIX | Префикс таблиц базы данных. По умолчанию это `wp_`, однако в целях безопасности рекомендуется сменить на другое значение |
| WP_ENV | Окружение сайта. Если переменная не определена, будет использоваться `production` |
| **WP_HOME** | УРЛ вашего сайта (адрес, включая протокол http или https). Используется внутри конфигурации `webpack.mix.js` как прокси сайта |
| **WP_SITEURL** | УРЛ, где расположено ядро WordPress. По умолчанию, равен адресу `WP_HOME` плюс `/wp`  |
| DOMAIN | Имя домена. Требуется только при запуске через Docker |
| WP_DEBUG_LOG | Путь к файлам логов внутри темы или же `false`, если нужно их отключить |
| MAIL_MAILER | Дефолтный отправщик сообщений. По умолчанию равен `wordpress`, то есть, используется функция `wp_mail()` |
| MAIL_HOST - MAIL_ENCRYPTION | Настройки произвольного SMTP хоста для отправки сообщений. `MAIL_MAILER` должен отличаться от `wordpress` |
| MAIL_FROM_ADDRESS, MAIL_FROM_NAME | Адрес и имя отправителя сообщения |
| AUTH_KEY - NONCE_SALT | "Соли" WordPress. Служат для авторизации и хранения кук. В целях безопасности рекомендуется сгенерировать произвольные ключи перед началом работы |

## Константы фреймворка :id=constants

| Переменная | Определение |
| ------ | ------ |
| BROCOOLY_APP_PATH | Возвращает путь до корня приложения (**НЕ** темы) |

