# Строитель запросов :id=query-builder

Каждая модель может вызывать методы строителя запросов - по сути, оболочки вокруг WP_Query. Методы вызываются непосредственно к модели и могут составлять цепочку для преобразования

```php
Post::all(); // получит все записи

// вместо
new WP_Query([
    'post_type' => 'post',
    'posts_per_page' => -1,
]);
```

Дополнительно может быть получен объект пагинации и прочее

## Получение результатов :id=querying-results

Методы, которые завершают построение запроса и выводят результат

### all :id=all

```php
all() : iterable;
```

Получает все **опубликованные** записи без пагинации

### get :id=get

```php
get() : iterable;
```

Работает аналогично с `all()`, завершает цепочку запросов и выводят записи согласно глобальной пагинации - той, что указана внутри админки Настройки - Чтение

### paginate :id=paginate

```php
paginate(string $var = 'paged') : iterable;
```

Работает практически так же, как и `get`, но устанавливает переменную `paged`. Помогает справиться с ошибкой `404` на страницах пагинации

!> Обратите внимание, что сам метод НЕ указывает количество выводимых записей, а лишь принимает параметр запроса для пагинации. Количество записей надо указывать внутри метода `preGetPosts` класса `Kernel`

Подробнее о пагинации [здесь](/advanced/pagination.md)

## Построение запроса :id=building-queries

Методы служат для добавления параметров запроса к строителю. Все эти методы возвращают объект строителя

### query :id=query

```php
query(array $query) : QueryBuilder;
```

Метод позволяет добавить абсолютно любой доступный параметр. Помогает в тех случаях, когда стандартных методов не хватает
